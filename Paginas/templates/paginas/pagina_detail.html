{% extends "base.html" %}

{% block title %}Novedad: {{ pagina.titulo }} | The Paradise Hotel{% endblock %}

{% block content %}
<article class="row justify-content-center">
    <div class="col-lg-9">
        <header class="mb-4 text-center text-md-start">
            <p class="text-secondary mb-2">Publicado el {{ pagina.fecha_publicacion|date:"d \d\e F, Y" }}{% if pagina.autor %} Â· {{ pagina.autor.get_full_name|default:pagina.autor.username }}{% endif %}</p>
            <h1 class="display-6">{{ pagina.titulo }}</h1>
        </header>

        {% if pagina.imagen_portada %}
            <figure class="mb-4">
                <img src="{{ pagina.imagen_portada.url }}" class="img-fluid rounded" alt="{{ pagina.titulo }}" />
            </figure>
        {% endif %}

        <div class="content fs-5">
            {{ pagina.contenido|linebreaks }}
        </div>

        <footer class="mt-5 pt-4 border-top border-secondary d-flex flex-column flex-md-row justify-content-between align-items-md-center gap-3">
            <a href="{% url 'paginas:lista' %}" class="btn btn-outline-light btn-sm">Volver a novedades</a>
            {% if request.user.is_authenticated and (request.user == pagina.autor or request.user.is_staff) %}
                <div class="d-flex gap-2">
                    <a href="{% url 'paginas:editar' pagina.slug %}" class="btn btn-outline-secondary btn-sm">Editar</a>
                    <a href="{% url 'paginas:eliminar' pagina.slug %}" class="btn btn-outline-danger btn-sm">Eliminar</a>
                </div>
            {% endif %}
        </footer>
    </div>
</article>
{% endblock %}
